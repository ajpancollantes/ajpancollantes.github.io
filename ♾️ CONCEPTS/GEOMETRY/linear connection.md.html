<!DOCTYPE html>
<html>
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LBT9E8N3HS"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-LBT9E8N3HS');
</script>
<script> MathJax={tex:{inlineMath: [['$', '$']]}};</script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/go.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<style>
	img { max-width:900px; }
	.codeblock { 
	background: #B0B0B0; padding:1px 10px 0px 10px; border-radius: 5px; overflow-x:auto; 
	}
	code {
 font-family: monospace; font-size: inherit; color: #202020; 
	}
	.inlineCoed {
 font-family: monospace; font-size: inherit; color: #202020; 
	}
</style>
</head>
<body style="background: #F0F0F0;">
<div style="width:90vw; padding:5vw; margin:0px; z-index: 5; text-align:left; background-color: #DCDCDC; border-radius: 5px; position:absolute; top:0; left:0px;">
<font size="3vw"><h1 style="margin-left:0px;" id="Linear_connections">Linear connections </h1>
<p>Also called affine connections, covariant derivative, <a href="./../covariant derivative operator.md.html">covariant derivative operator</a>.</p>
<p></p>
<h2 style="margin-left:0px;" id="General_framework">General framework</h2>
<p>An affine connection on a manifold $M$ is a <a href="./vector bundle connection.md.html">vector bundle connection</a> on the tangent bundle  of M. Equivalently, it is a <a href="./principal connection on a principal bundle.md.html">principal connection</a> on the <a href="./frame bundle.md.html">frame bundle</a> (which is a <a href="./principal bundle.md.html">principal bundle</a>) of $M$. This equivalence is due to <a href="./associated connection.md.html#Conversely">this</a>.</p>
<p></p>
<p>Let's call $P$ to the frame bundle and $\omega$ to the <a href="./principal connection on a principal bundle.md.html#Connection_1-form">connection 1-form</a> of this connection. What is a vector $v\in T_pP$? The point $p\in P$ represents a point $x$ in the manifold together with a choice of a basis for $T_x M$, and $v$ represents the beginning of a curve $\alpha$ leaving $x$ and a choice of a basis for every $T_{\alpha(t)}M$. <b>The value of $\omega_p(v)$ tells us how the basis is changing (if it is the case) when we move along</b> $\alpha$. This is "not natural" to $M$, and must be introduced by hand. This "change" is infinitesimal, since it correspond to an infinitesimal step along $\alpha$, so it is measured by an element of $\mathfrak{gl}(n)$. See <a href="./Cartan geometry.md.html#Generalization_of_manifolds_with_affine_connections">Cartan geometry#Generalization of manifolds with affine connections</a> for more info about "the big picture".</p>
<p></p>
<h2 style="margin-left:0px;" id="Motivational_introduction">Motivational introduction</h2>
<p>Consider first the situation in $\mathbb{R}^n$. Let $X,Y \colon \mathbb{R}^n \rightarrow \mathbb{R}^n$ be vector fields. To define the directional derivative of the vector field $X$ in the direction of the vector field $Y$ at a point $p \in \mathbb{R}^n$, we can mimic usual definition of directional derivative:</p>
<p></p>
<p>$$ (\nabla_Y X)(p) := \lim_{t \to 0} \frac{X(p + tY(p)) - X(p)}{t}. $$</p>
<p>The result $(\nabla_Y X)$ is a vector field on $\mathbb{R}^n$. You can check that the operation $\nabla$ defined as above satisfies the following two properties:</p>
<p>1. $\nabla_{fY}(X) = f\nabla_Y X$. </p>
<p>2. $\nabla_Y(fX) = (Yf)X + f\nabla_YX$. </p>
<p>Here, $X,Y \colon \mathbb{R}^n \rightarrow \mathbb{R}^n$ are vector fields and $f \colon \mathbb{R}^n \rightarrow \mathbb{R}$ is a scalar function. The function $Yf$ (at a point $p$) is the directional derivative of $f$ at $p$ in the direction $Y(p)$.</p>
<p>Now let us try and mimic the above construction on a general manifold. Given vector fields $X,Y \in \mathfrak{X}(M)$, we try to use the same formula and define</p>
$$ 
(\nabla_Y X)(p) := \lim_{t \to 0} \frac{X(p + tY(p)) - X(p)}{t}. 
$$
<p>However, we see that there are two problems. First, the expression $X(p + tY(p))$ is not defined because we don't have a way of adding a point $p \in M$ to a tangent vector $tY(p) \in T_pM$. This is not so bad because we can actually replace the expression $p + tY(p)$ with any curve "which goes in the direction $Y(p)$" such as the flow $\varphi_t^Y(p)$. The more serious problem is that <b>we need to subtract the tangent vector $X(p) \in T_pM$ from the tangent vector $X(\varphi_t^Y(p)) \in T_{\varphi_t^Y(p)}$ and those are two tangent vectors that belong to different vector spaces</b>. </p>
<p></p>
<p>In general, without any extra data, we have no way of identifying tangent spaces at different points of $M$.</p>
<p></p>
<p>To summarise, we see that we can differentiate vector fields along vector fields without any problem on $\mathbb{R}^n$ but we encounter problems when we try and do it on a general manifold. But $\mathbb{R}^n$ is also a manifold so what makes it special? We need extra data.</p>
<p></p>
<p>The definition of an affine connection is meant to supply the manifold $M$ "externally" with an operation $\nabla \colon \mathfrak{X}(M) \times \mathfrak{X}(M) \rightarrow \mathfrak{X}(M)$ which satisfies properties $(1)-(2)$ and so allows us to differentiate vector fields along vector fields. That is, instead of defining the directional derivative of a vector field along a vector field, we require that somebody handles us a mechanism $\nabla$ which satisfies the properties that the familiar derivative satisfied on $\mathbb{R}^n$ and then we will think of it as a directional derivative.</p>
<p></p>
<h3 style="margin-left:0px;" id="How_to_get_one?">How to get one?</h3>
<p>This extra data could be provided:</p>
<p><ul style="margin-left:0px;"><li>externally</li></ul></p>
<p><ul style="margin-left:0px;"><li>by a <a href="./../parallel transport.md.html#Covariant_derivative">parallel transport</a>.</li></ul></p>
<p><ul style="margin-left:0px;"><li>Or it can be inherited from the ambient (for example if the manifold is immersed in $\mathbb{R}^N$). Covariant derivative operator on surfaces can be seen like inherited from the absolute parallelism of $\mathbb{R}^3$ and the metric of $\mathbb{R}^3$:</li></ul></p>
$$
\mathrm{D}_{\mathbf{v}} \mathbf{w}=\mathcal{P}\left[\nabla_{\mathbf{v}} \mathbf{w}\right]=\nabla_{\mathbf{v}} \mathbf{w}-\left(\mathbf{n} \cdot \nabla_{\mathbf{v}} \mathbf{w}\right) \mathbf{n}
$$
<p>where $\mathcal{P}$ is the projection into the surface along its normal $\mathbf{n}$.</p>
<p></p>
<p></p>
<h2 style="margin-left:0px;" id="Definition_as_operator">Definition as operator</h2>
<p>(See <a href="./../../☕REFLECTIONS/relationship parallel transport, covariant derivatives and metrics.md.html">relationship parallel transport, covariant derivatives and metrics</a>).</p>
<p></p>
<p>We call covariant derivative operator or affine connection or linear connection  to an operator $\nabla \colon \mathfrak{X}(M) \times \mathfrak{X}(M) \rightarrow \mathfrak{X}(M)$, where $\mathfrak{X}(M)$ is the set of all vector fields in $M$, satisfying:</p>
<p>1. Commute with addition.</p>
<p>2. Leibniz rule.</p>
<p>3. Tensorial with respect to the first $\mathfrak{X}(M)$.</p>
<p>4. Commute with index contraction.</p>
<p>5. Applied to scalar fields, coincides with directional derivative respect to the vector.</p>
<p>6. For scalar fields we have commutation: $\nabla _ { a } \nabla _ { b } \alpha = \nabla _ { b } \nabla _ { a } \alpha$.</p>
<p></p>
<p>Obviously this raises quite a lot of questions:</p>
<p>1. Does such mechanism always exists? (Yes). </p>
<p>2. It it unique? (No). </p>
<p>3. Is there a natural choice of such differentiation mechanism? (Yes, under certain circumstances). </p>
<p>4. Can we use this mechanism to recover the ability to identify tangent vectors at different points that was necessary to define the regular directional derivative in $\mathbb{R}^n$? (Yes, at least along curves. This leads to the notion of <a href="./../parallel transport.md.html">parallel transport</a>). </p>
<p></p>
<p>In this context, we call covariant derivative to the result </p>
$$
(\nabla_X Y)(p)
$$
<p>This result depends on the values of the vector field $X$ in a neighbourhood of $p$, but only <b>on the specific vector</b> $Y(p)$, since it is linear in this argument (property 3 above). The <a href="./Lie derivative of vector fields.md.html">Lie derivative of vector fields</a>, on the contrary, depends on the values of $X$ in a neighbourhood. See the <a href="./../../☕REFLECTIONS/relation of Lie derivative, covariant derivative and torsion.md.html">relation of Lie derivative, covariant derivative and torsion</a>.</p>
<p></p>
<p><b>Proof</b></p>
<p>The value of $\nabla_XY$ depends only on the values of $X$ and $Y$ in a neighborhood $U$ of $p$, so you can write in a local frame $X=X^iE_i$ such that $X^i(p)=0$, then as you said :</p>
<p>$$\nabla_XZ=X^i\nabla_{E_i}Z$$</p>
<p>So evaluating in $p$ :</p>
$$
\nabla_XZ|_p=X^i(p)\nabla_{E_i}Z|_p
$$
<p>which only depends of the value of $X$ at $p$.</p>
<p>$\blacksquare$</p>
<p></p>
<p>If we perform this construction not on $TM$ but in any vector bundle $E\to M$ we obtain the notion of <a href="./vector bundle connection.md.html">vector bundle connection</a>, which is a particular case of a <a href="./connection on a fiber bundle.md.html">connection on a fiber bundle</a>.</p>
<p></p>
<p>According to the following example, to specify a covariant derivative operator we only need to fix a coordinate chart $\{x_i\}$ of $TM$ and provide the functions $\Gamma_{ij}^k$</p>
$$
\nabla_{\partial_{x_i}}\partial_{x_j}=\Gamma_{ij}^k \partial_{x_k}
$$
<p>which are called the <a href="./../Christoffel symbols.md.html">Christoffel symbols</a>.</p>
<p></p>
<h2 style="margin-left:0px;" id="Extension_to_tensors">Extension to tensors</h2>
<p>Once we have a covariant derivative on the tangent vector fields of a manifold, it can be extended to any tensor field with the same Christoffel symbols. <a href="https://youtu.be/cEEahoUUGyc?si=PsKRXtXuZscer8H-&t=1209" target="_blank">In this video</a> is explained how can be computed the covariant derivative of 1-forms, and in <a href="https://youtu.be/cEEahoUUGyc?si=uGRDjiJuRweQfn9Q&t=1422" target="_blank">this part of the same video</a> it is applied to any tensor.</p>
<p>For example, given the vector $v=v^i e_i$, the 1-form $\alpha=\alpha_i \epsilon^i$ and the (0,2)-tensor $g=g_{ij}\epsilon^i\otimes \epsilon^j$:</p>
$$
\begin{array}{l}
\nabla_{\partial_i}(\vec{v})=\left(\frac{\partial v^k}{\partial u^i}+v^j \Gamma_{i j}^k\right) \overrightarrow{e_k} \\
\nabla_{\partial_i}(\alpha)=\left(\frac{\partial \alpha_k}{\partial u^i}-\alpha_j \Gamma_{i k}^j\right) \epsilon^k \\
\nabla_{\partial_i}(g)=\left[\frac{\partial g_{r s}}{\partial u^i}-g_{k s} \Gamma_{i r}^k-g_{r k} \Gamma_{i s}^k\right]\left(\epsilon^r \otimes \epsilon^s\right)
\end{array}
$$
<h2 style="margin-left:0px;" id="Worked_example">Worked example </h2>
<p>Another approach to understanding the problem is as follows:</p>
<p></p>
<p>In $\mathbb{R}^2$ with Cartesian coordinates $(x, y)$, we have a basis $\{\frac{\partial}{\partial x}, \frac{\partial}{\partial y}\}$ for the different tangent spaces. Moreover, the tangent vector $\frac{\partial}{\partial x}$ at point $P=(1,2)$ and the vector $\frac{\partial}{\partial x}$ at point $Q=(0,1)$ are "the same," in the sense that I can translate it from $P$ to $Q$. This is because we are assuming the notion of traditional parallelism in $\mathbb{R}^2$.</p>
<p></p>
<p>Now, let's consider other coordinates, for example, $(t, a)$ given by the transformation:</p>
$$
\phi: (x, y) \to (t, a) = (x, y - x^2)
$$
<p>The vector $\frac{\partial}{\partial t}$ at point $P=(1,1)$ (note that this $P$ is the same as in the previous paragraph but expressed in coordinates $(t, a)$), and the vector $\frac{\partial}{\partial t}$ at point $Q=(0,1)$ are now <b>not the same, from the perspective of traditional parallelism</b> in $\mathbb{R}^2$. Let's see this:</p>
<p></p>
<p><ul style="margin-left:0px;"><li>$\frac{\partial}{\partial t}$ at $P$ can be expressed in Cartesian coordinates as</li></ul></p>
$$
d\phi^{-1}(\frac{\partial}{\partial t})=\left(
\begin{array}{cc}
1 & 0\\
2t & 1 \\
\end{array}
\right) \cdot \left. \left(
\begin{array}{c}
1 \\
0  \\
\end{array}
\right) \right|_P  =\left. (1 \quad 2t)\right| _P=\frac{\partial}{\partial x}+4 \frac{\partial}{\partial y}
$$
<p><ul style="margin-left:0px;"><li>$\frac{\partial}{\partial t}$ at $Q$ can be expressed in Cartesian coordinates as</li></ul></p>
$$
d\phi^{-1}(\frac{\partial}{\partial t})=\left(
\begin{array}{cc}
1 & 0\\
2t & 1 \\
\end{array}
\right) \cdot \left. \left(
\begin{array}{c}
1 \\
0  \\
\end{array}
\right) \right|_Q  =\left. (1 \quad 2t)\right| _Q =\frac{\partial}{\partial x}
$$
<p>Therefore, $\frac{\partial}{\partial t}$ is not constant, even though its components are. This implies that if we want to differentiate a vector field in this new coordinate system, we <b>cannot simply differentiate each component</b>. For example, the derivative of $\frac{\partial}{\partial t}$ would be 0, but we have just seen that it is not constant.</p>
<p>The way to fix this is to add correction terms to the traditional component-wise derivative that reflect the deformation of the axes themselves. Let's see this in the specific case of coordinates $(t, a)$ (note that for coordinates $(x, y)$, it would be sufficient to differentiate each component because we assume that the basis vectors are constant):</p>
<p>Consider the vector field $X = F_X \frac{\partial}{\partial t} + G_X \frac{\partial}{\partial a}$ and the field $Y = F_Y \frac{\partial}{\partial t} + G_Y \frac{\partial}{\partial a}$. A consistent way to differentiate $Y$ with respect to $X$ would be an operation $\nabla$ that should satisfy:</p>
$$
\nabla_X Y = F_X \frac{\partial}{\partial t}(Y) + G_X \frac{\partial}{\partial a}(Y) =
$$
$$
= F_X \frac{\partial}{\partial t}(F_Y \frac{\partial}{\partial t} + G_Y \frac{\partial}{\partial a}) + G_X \frac{\partial}{\partial a}(F_Y \frac{\partial}{\partial t} + G_Y \frac{\partial}{\partial a})
$$
<p>Since the Leibniz rule should also hold for vectors, the above expression becomes:</p>
$$
F_X \frac{\partial}{\partial t}(F_Y) \frac{\partial}{\partial t} + F_X F_Y \frac{\partial}{\partial t}(\frac{\partial}{\partial t}) +
$$
$$
+ F_X \frac{\partial}{\partial t}(G_Y) \frac{\partial}{\partial a} + F_X G_Y \frac{\partial}{\partial t}(\frac{\partial}{\partial a}) +
$$
$$
+ G_X \frac{\partial}{\partial a}(F_Y) \frac{\partial}{\partial t} + G_X F_Y \frac{\partial}{\partial a}(\frac{\partial}{\partial t}) +
$$
$$
+ G_X \frac{\partial}{\partial a}(G_Y) \frac{\partial}{\partial a} + G_X G_Y \frac{\partial}{\partial a}(\frac{\partial}{\partial a}) =
$$
$$
= X(F_Y) \frac{\partial}{\partial t} + X(G_Y) \frac{\partial}{\partial a} + \textrm{correction terms}
$$
<p></p>
<p>These "correction terms" will be fully determined when we calculate $\frac{\partial}{\partial t}(\frac{\partial}{\partial t})$, $\frac{\partial}{\partial t}(\frac{\partial}{\partial a})$, $\frac{\partial}{\partial a}(\frac{\partial}{\partial t})$, and $\frac{\partial}{\partial a}(\frac{\partial}{\partial a})$. Let's translate everything into Cartesian coordinates, where we can differentiate because parallelism exists.</p>
<p></p>
$$
d\phi^{-1}(\frac{\partial}{\partial t})=\left(
\begin{array}{cc}
1 & 0\\
2t & 1 \\
\end{array}
\right) \cdot  \left(
\begin{array}{c}
1 \\
0  \\
\end{array}
\right)=\frac{\partial}{\partial x}+2x \frac{\partial}{\partial y}
$$
<p></p>
$$
d\phi^{-1}(\frac{\partial}{\partial a})=\left(
\begin{array}{cc}
1 & 0\\
2t & 1 \\
\end{array}
\right) \cdot  \left(
\begin{array}{c}
0 \\
1  \\
\end{array}
\right)=\frac{\partial}{\partial y}
$$
<p></p>
<p>Therefore:</p>
<p><ul style="margin-left:0px;"><li>$\frac{\partial}{\partial t}(\frac{\partial}{\partial t})=(\frac{\partial}{\partial x}+2x \frac{\partial}{\partial y})(\frac{\partial}{\partial x}+2x \frac{\partial}{\partial y})=2\frac{\partial}{\partial y}=2\frac{\partial}{\partial a}$</li></ul></p>
<p><ul style="margin-left:0px;"><li>$\frac{\partial}{\partial t}(\frac{\partial}{\partial a})=(\frac{\partial}{\partial x}+2x \frac{\partial}{\partial y})(\frac{\partial}{\partial y})=0$</li></ul></p>
<p><ul style="margin-left:0px;"><li>$\frac{\partial}{\partial a}(\frac{\partial}{\partial t})=\frac{\partial}{\partial y}(\frac{\partial}{\partial x}+2x \frac{\partial}{\partial y})=0$</li></ul></p>
<p><ul style="margin-left:0px;"><li>$\frac{\partial}{\partial a}(\frac{\partial}{\partial a})=\frac{\partial}{\partial y}(\frac{\partial}{\partial y})=0$</li></ul></p>
<p></p>
<p>Thus, the "differentiation" becomes:</p>
$$
\nabla_X Y = X(F_Y) \frac{\partial}{\partial t} + X(G_Y) \frac{\partial}{\partial a} + 2 F_X F_Y\frac{\partial}{\partial a}
$$
<p></p>
<p>The components of $\frac{\partial}{\partial t}(\frac{\partial}{\partial t})$, $\frac{\partial}{\partial t}(\frac{\partial}{\partial a})$, $\frac{\partial}{\partial a}(\frac{\partial}{\partial t})$, and $\frac{\partial}{\partial a}(\frac{\partial}{\partial a})$ in the basis $\left< \frac{\partial}{\partial t}, \frac{\partial}{\partial t} \right>$ are called <a href="./../Christoffel symbols.md.html">Christoffel symbols</a> and depend on the notion of parallelism and the chosen coordinates. They are symbolized by $\Gamma_{ij}^k$, and in our case, $\Gamma_{11}^2=2$, and all others are 0.</p>
<p></p>
<h2 style="margin-left:0px;" id="Abstract_Index_Notation">Abstract Index Notation</h2>
<p>This whole approach can be given using <a href="./../../⛳️ NON CLASSIFIED/Penrose abstract index notation.md.html">Penrose abstract index notation</a>. In this notation, we would denote:</p>
$$
\xi^c \nabla_c \Psi^a = \nabla_{\xi} \Psi
$$
<p>In Penrose notation, it becomes:</p>
<p><img src="./../../imagenes/derivadacovariante.png" style="width:80vw; border-radius: 3px;" ></p>
<p>And, for example, the Leibniz rule (and more):</p>
<p><img src="./../../imagenes/notacionpenrose3 1.png" style="width:80vw; border-radius: 3px;" ></p>
<p>Ultimately, a connection will determine a way to identify tangent vectors at one point $p\in M$ with those at another point $q\in M$, although it will depend on the curve connecting them (<a href="./../parallel transport.md.html">parallel transport</a>).</p>
<p>________________________________________</p>
<p>________________________________________</p>
<p>________________________________________</p>
<p>Author of the notes: Antonio J. Pan-Collantes<br>
<p><a href="mailto:antonio.pan@uca.es">antonio.pan@uca.es</a></p><br>
<p>INDEX:<br>
	<iframe src="../../treeview.html" width="90%" frameBorder="0" height="900px"></iframe>
</font></div>
</body>
</html>
